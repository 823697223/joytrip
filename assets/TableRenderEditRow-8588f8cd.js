import{j as w,n as x,M as p}from"./app-c7296dbb.js";import{c as T,r as u,h as E,j as a,M as n,p as B,U as V,V as s,Q as _,N as l,z as c,t as m,_ as A}from"./framework-fce7c3d2.js";const M={class:"row"},h={class:"row"},j=T({__name:"TableRenderEditRow",setup(D){const{editRow:r,saveRow:f,cancelEditRow:b,addRow:v,delRow:g,validate:C}=x(),R=async()=>{await C()?p.success("校验成功"):p.error("校验失败")},d=u([{name:"name",description:"description",managementGroupName:"managementGroup"},{name:"name",description:"description",managementGroupName:"managementGroup"},{name:"name",description:"description",managementGroupName:"managementGroup"}]),y=u(),k=E(()=>({data:d.value,add:!0,onAdd(){v({name:"name",description:"description",managementGroupName:"managementGroupName"},!0)},onAddAfter(){console.log("添加了数据")},onEdit(e){console.log(e,"开始编辑")},onCancelEdit(e){console.log(e,"取消编辑")},onSave(e){console.log(e,"保存编辑")},onDel(){console.log("删除了数据")},columns:[{type:"selection"},{label:"模板名称",value:"name",edit:{type:"input",required:!0}},{label:"模板描述",value:"description",edit:{type:"select",options:[{label:"1",value:"1"}],validator:(e,t,o)=>{o()}}},{label:"所属管理组",value:"managementGroupName",edit:{render:e=>w({data:e.row,dataKey:"managementGroupName"})}},{label:"操作",render:({row:e,$index:t})=>{const{_edit:o}=e;return[o?a(n("text-button"),{onClick:()=>{b(e)}},()=>"取消"):a(n("text-button"),{onClick:()=>{r(e)}},()=>"编辑"),o?a(n("text-button"),{onClick:()=>{f(e)}},()=>"保存"):a(n("text-button"),{onClick:()=>{g(t)}},()=>"删除")]}}]}));return(e,t)=>{const o=n("TableRender"),i=n("el-button"),N=n("Card");return B(),V(N,null,{default:s(()=>[_("div",M,[l(o,{options:c(k),ref_key:"tableRef",ref:y},null,8,["options"])]),_("div",h,[l(i,{type:"primary",onClick:t[0]||(t[0]=G=>c(r)(d.value[0],!0))},{default:s(()=>[m("编辑第一行")]),_:1}),l(i,{type:"primary",onClick:t[1]||(t[1]=G=>c(r)(d.value[0],!1))},{default:s(()=>[m("保存第一行")]),_:1}),l(i,{type:"primary",onClick:R},{default:s(()=>[m("校验表格")]),_:1})])]),_:1})}}}),z=A(j,[["__file","TableRenderEditRow.vue"]]);export{z as default};
