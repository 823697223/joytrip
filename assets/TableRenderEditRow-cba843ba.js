import{n as G,v as w,M as p}from"./app-ea3934e6.js";import{c as x,r as u,h as T,j as o,M as a,p as E,q as B,Q as _,N as s,z as d,V as c,t as m,_ as V}from"./framework-fce7c3d2.js";const A={class:"row"},M={class:"row"},h=x({__name:"TableRenderEditRow",setup(q){const{editRow:l,saveRow:v,cancelEditRow:b,addRow:f,delRow:g,validate:R}=w(),y=async()=>{await R()?p.success("校验成功"):p.error("校验失败")},r=u([{name:"name",description:"description",managementGroupName:"managementGroup"},{name:"name",description:"description",managementGroupName:"managementGroup"},{name:"name",description:"description",managementGroupName:"managementGroup"}]),k=u(),C=T(()=>({data:r.value,add:!0,onAdd(){f({name:"name",description:"description",managementGroupName:"managementGroupName"},!0)},onAddAfter(){console.log("添加了数据")},onEdit(e){console.log(e,"开始编辑")},onCancelEdit(e){console.log(e,"取消编辑")},onSave(e){console.log(e,"保存编辑")},onDel(){console.log("删除了数据")},columns:[{type:"selection"},{label:"模板名称",value:"name",edit:{type:"input",required:!0,props:{disabled:!1}}},{label:"模板描述",value:"description",edit:{type:"select",options:[{label:"1",value:"1"}],validator:(e,t,n)=>{n()}}},{label:"所属管理组",value:"managementGroupName",edit:{render:e=>G({data:e.row,dataKey:"managementGroupName"})}},{label:"操作",render:({row:e,$index:t})=>{const{_edit:n}=e;return[n?o(a("text-button"),{onClick:()=>{b(e)}},()=>"取消"):o(a("text-button"),{onClick:()=>{l(e)}},()=>"编辑"),n?o(a("text-button"),{onClick:()=>{v(e)}},()=>"保存"):o(a("text-button"),{onClick:()=>{g(t)}},()=>"删除")]}}]}));return(e,t)=>{const n=a("TableRender"),i=a("el-button");return E(),B("div",null,[_("div",A,[s(n,{options:d(C),ref_key:"tableRef",ref:k},null,8,["options"])]),_("div",M,[s(i,{type:"primary",onClick:t[0]||(t[0]=N=>d(l)(r.value[0],!0))},{default:c(()=>[m("编辑第一行")]),_:1}),s(i,{type:"primary",onClick:t[1]||(t[1]=N=>d(l)(r.value[0],!1))},{default:c(()=>[m("保存第一行")]),_:1}),s(i,{type:"primary",onClick:y},{default:c(()=>[m("校验表格")]),_:1})])])}}}),j=V(h,[["__file","TableRenderEditRow.vue"]]);export{j as default};
